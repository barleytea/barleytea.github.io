{"componentChunkName":"component---src-templates-detail-tsx","path":"/rest-template-500/","result":{"data":{"markdownRemark":{"excerpt":"困ったこと 解決方法 なぜ？ 困ったこと RestTemplate で http request を送って 500 系のエラーが帰ってきた場合、 が送出され、戻り値としては http response が取得できない。 解決方法  のサブクラスである  を catch すること…","id":"7c7741ab-0bc3-5436-b616-3691e9f01961","html":"<div class=\"toc\">\n<ul>\n<li><a href=\"#%E5%9B%B0%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\">困ったこと</a></li>\n<li><a href=\"#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95\">解決方法</a></li>\n<li><a href=\"#%E3%81%AA%E3%81%9C\">なぜ？</a></li>\n</ul>\n</div>\n<h2 id=\"困ったこと\" style=\"position:relative;\"><a href=\"#%E5%9B%B0%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\" aria-label=\"困ったこと permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>困ったこと</h2>\n<p>RestTemplate で http request を送って 500 系のエラーが帰ってきた場合、<code class=\"language-text\">RestClientException</code> が送出され、戻り値としては http response が取得できない。</p>\n<h2 id=\"解決方法\" style=\"position:relative;\"><a href=\"#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95\" aria-label=\"解決方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>解決方法</h2>\n<p><code class=\"language-text\">RestClientException</code> のサブクラスである <code class=\"language-text\">RestClientResponseException</code> を catch すること。</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RestClientResponseException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    e<span class=\"token punctuation\">.</span><span class=\"token function\">getRawStatusCode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    e<span class=\"token punctuation\">.</span><span class=\"token function\">getResponseHeaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    e<span class=\"token punctuation\">.</span><span class=\"token function\">getResponseBodyAsString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"なぜ\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%9C\" aria-label=\"なぜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なぜ？</h2>\n<blockquote>\n<p>Common base class for exceptions that contain actual HTTP response data.</p>\n</blockquote>\n<p>とのことなので。</p>\n<p>FYI: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestClientResponseException.html\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestClientResponseException.html</a></p>","frontmatter":{"path":"/rest-template-500","title":"Spring Boot の RestTemplate で 500 系エラーが発生した場合でも reponse header / body の中身を取得する","created":"2022-01-11","eyecatcher":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADuElEQVR42oVUTYgURxTujX9J/CF4CR4SA56iggZzUMxUVffMrnuIAX+GEDSEFV3JTlf3zM7MJkpgTnoSD4oHWbwkBOPGZad/dnZm3WRXRUXwJIpIFFk0CbkkkBzUONOV71VPr+Makoaieqa6vve+733vGUbHU6lUXqFd1npXOIH4TPrcw/rZDnhLBryJfdb2xfdYHxe/7l6q7yi6o7qMFx5ldGVHsgs0mM8/lQGbLU5ZanDKityaUADTy50Q+C8dDV6wlPTZT25o7qQ77hh/x62mWAKn0UdUdoHtseHyTEYVGmZk+wxZsSYCRAlg/M6ats9bAI1K02n674jrC4f2Nk1D07QDMTx0qVs5Af87BuPqP1aU89iTfN2MSjPppj2askiGgfPmaqNNc3+ZolFG8y8jq1hDOmPPKJgTiqh8MaOcmvhDjrHtOqEqz8iQmUah3rMyXxcP8hOmaouvcOmZHbCnlAlpiExUYdJUxR+siLR1xvlTfHtO1sw1iW6kowzEHgNCHyQtAKKzsz3eIiqFSS38X8jwLtZ1nE2B1llQ/UJWP1ib6J8UMzuy+TU5zvcbTsh9itoWOyr9mIaO4mbO530D57esrvgfvt5/Y9OipHhzFpvmCxXcURnJLu7HN7F0qRwAxS9EizIsTqWJzhn6uNMBndaisywcEfuPimlucDzrTQ3o8bwRi8+a2luhuJxQ6AB96UmcQQxkle1L/odEgwSoPUeATo3t+F+w9ln/6U2LkNGpAc9cNwcY8pIBio/yDZPs8bvjb31bs1NG13wgrVcCBk1zARtDMp93BnHHzUMAFKPUHUj31/xEalWiF9HSWdR6lxBAEsQNM+/CMrfB6qjusLZE+dFtq1DUrwBo9lExqJ1yPtuiI97KLu5ITgMN1lNvIehJeO0xHFBKaFOV6d2BK2gZ8pveFe6EeYfaDhp8m6AUG91LZY2953hsCNlcaw+Ju7YntrYn0pKEKhkcWTdg7jf0ZTvke8l/bl20ch6vxSOKPQRACx/+hv072zOt+RNKU63y93E+S+PO6CwAWm1YVvnuQl3s+vJKD9pQPCCKTsB2uCHf6DT4epLE9lJWzhe7AIDM+eThaz3KbVgnns9GHUxX8FVNM+THMPN01RH5T/xuYZzpfkZX6YFBfY+g0aGrPSo3xo7HYLE354RXSulOAMUDRHfoUkYNXcxEBEYgBEbv5Zl0VI7n4H1knn0hs3/zGu3l6kfLZTW1B5TOYd3HeoJueoxg9yQGBAbIJwPTfFkymDtb9B9A8VVAqvAiTwAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/b5a618f143c96f4721cc0142d76f83ea/e8954/eyecatcher.png","srcSet":"/static/b5a618f143c96f4721cc0142d76f83ea/2391d/eyecatcher.png 24w,\n/static/b5a618f143c96f4721cc0142d76f83ea/856df/eyecatcher.png 49w,\n/static/b5a618f143c96f4721cc0142d76f83ea/e8954/eyecatcher.png 97w","sizes":"(min-width: 97px) 97px, 100vw"},"sources":[{"srcSet":"/static/b5a618f143c96f4721cc0142d76f83ea/4e704/eyecatcher.webp 24w,\n/static/b5a618f143c96f4721cc0142d76f83ea/f2d16/eyecatcher.webp 49w,\n/static/b5a618f143c96f4721cc0142d76f83ea/fdab6/eyecatcher.webp 97w","type":"image/webp","sizes":"(min-width: 97px) 97px, 100vw"}]},"width":300,"height":300}}}}}},"pageContext":{"id":"7c7741ab-0bc3-5436-b616-3691e9f01961","next":{"frontmatter":{"created":"2022-01-11","title":"Spring Boot の RestTemplate で application/x-www-form-urlencoded な request を送信する","path":"/rest-template-x-www-form-urlencoded","eyecatcher":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/b5a618f143c96f4721cc0142d76f83ea/3e6e8/eyecatcher.png","srcSet":"/static/b5a618f143c96f4721cc0142d76f83ea/045ab/eyecatcher.png 24w,\n/static/b5a618f143c96f4721cc0142d76f83ea/ca354/eyecatcher.png 49w,\n/static/b5a618f143c96f4721cc0142d76f83ea/3e6e8/eyecatcher.png 97w","sizes":"(min-width: 97px) 97px, 100vw"},"sources":[{"srcSet":"/static/b5a618f143c96f4721cc0142d76f83ea/b5862/eyecatcher.webp 24w,\n/static/b5a618f143c96f4721cc0142d76f83ea/c5379/eyecatcher.webp 49w,\n/static/b5a618f143c96f4721cc0142d76f83ea/7be46/eyecatcher.webp 97w","type":"image/webp","sizes":"(min-width: 97px) 97px, 100vw"}]},"width":120,"height":90.30927835051547}}}}},"prev":{"frontmatter":{"created":"2022-01-11","title":"Java8 で Exponential Backoff な retry を実装してみる","path":"/java8-exponential-backoff-retry","eyecatcher":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/d895b7834dda35ec3cfb1a0b877bb9c8/eaefa/eyecatcher.png","srcSet":"/static/d895b7834dda35ec3cfb1a0b877bb9c8/51b57/eyecatcher.png 30w,\n/static/d895b7834dda35ec3cfb1a0b877bb9c8/e63fa/eyecatcher.png 60w,\n/static/d895b7834dda35ec3cfb1a0b877bb9c8/eaefa/eyecatcher.png 120w","sizes":"(min-width: 120px) 120px, 100vw"},"sources":[{"srcSet":"/static/d895b7834dda35ec3cfb1a0b877bb9c8/f1e6c/eyecatcher.webp 30w,\n/static/d895b7834dda35ec3cfb1a0b877bb9c8/eea8f/eyecatcher.webp 60w,\n/static/d895b7834dda35ec3cfb1a0b877bb9c8/43b57/eyecatcher.webp 120w","type":"image/webp","sizes":"(min-width: 120px) 120px, 100vw"}]},"width":120,"height":90}}}}}}},"staticQueryHashes":[],"slicesMap":{}}